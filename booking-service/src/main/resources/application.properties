spring.application.name=booking-service
server.port=8085

auth.jwt.secret=3q2+796t7z8x/Xv9v+7v3q2+796t7z8x/Xv9v+7v3q2+796t7z8x/Xv9v+7v3q2+

theatre.service.base-url=http://localhost:8082

payment.service.base-url=http://localhost:8084

# Resilience4j: retry only on 5xx and timeout (not on 409/4xx). 3 attempts = 1 + 2 retries.
resilience4j.retry.instances.theatreSeatClient.max-attempts=3
resilience4j.retry.instances.theatreSeatClient.retry-exceptions=org.springframework.web.client.ResourceAccessException,com.xyz.entertainment.ticketing.booking.client.TheatreServiceRetryableException
resilience4j.retry.instances.theatreSeatClient.wait-duration=500ms

# Circuit breaker: open after 50% failure rate in last 10 calls (min 5 calls) to avoid cascading.
resilience4j.circuitbreaker.instances.theatreSeatClient.sliding-window-size=10
resilience4j.circuitbreaker.instances.theatreSeatClient.minimum-number-of-calls=5
resilience4j.circuitbreaker.instances.theatreSeatClient.failure-rate-threshold=50
resilience4j.circuitbreaker.instances.theatreSeatClient.wait-duration-in-open-state=30s
resilience4j.circuitbreaker.instances.theatreSeatClient.permitted-number-of-calls-in-half-open-state=3
